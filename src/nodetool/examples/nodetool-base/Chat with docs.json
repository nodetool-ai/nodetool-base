{
  "id": "af5a2636a78211f09af400006952c72c",
  "access": "public",
  "created_at": "2025-10-12T17:50:18.547689",
  "updated_at": "2025-10-12T17:50:18.547712",
  "name": "Chat with Docs",
  "tool_name": null,
  "description": "An intelligent document retrieval and question-answering system that leverages vector search and local LLMs to provide accurate, context-aware responses based on your document collection.",
  "tags": [
    "chat",
    "rag"
  ],
  "thumbnail": null,
  "thumbnail_url": null,
  "graph": {
    "nodes": [
      {
        "id": "9",
        "parent_id": null,
        "type": "nodetool.text.FormatText",
        "data": {
          "template": "You are an expert assistant answering a user question based on retrieved documents. \nYour response must be accurate, well-structured, and grounded in the provided sources.\n\n### User Question:\n{{ text }}\n\n### Relevant Information from Retrieved Documents\nThese snippets can be incomplete or out of context. Ignore information that is not relevant.\n{% for doc in documents %}\n=====================\n**Document {{ loop.index }}\n** {{ doc }}\n{% endfor %}\n\n### **Instructions for Answering:**\n1. Analyze the user question carefully.\n2. Extract key insights from the retrieved documents.\n3. If multiple documents provide different perspectives, synthesize the most relevant and accurate information.\n4. If the documents lack sufficient information, state what is missing instead of guessing.\n5. Present the answer in a clear, concise, and structured manner."
        },
        "ui_properties": {
          "selected": false,
          "position": {
            "x": 683,
            "y": 312
          },
          "zIndex": 0,
          "width": 280,
          "title": "Construct comprehensive prompt with retrieved context and query",
          "selectable": true
        },
        "dynamic_properties": {
          "documents": "",
          "text": ""
        },
        "dynamic_outputs": {},
        "sync_mode": "on_any"
      },
      {
        "id": "8e9b8157-9d68-408d-9b6f-df8e282a2bce",
        "parent_id": null,
        "type": "vector.chroma.HybridSearch",
        "data": {
          "collection": {
            "type": "collection",
            "name": "test"
          },
          "n_results": 5,
          "k_constant": 60,
          "min_keyword_length": 3
        },
        "ui_properties": {
          "selected": false,
          "position": {
            "x": 343,
            "y": 409
          },
          "zIndex": 0,
          "width": 280,
          "selectable": true
        },
        "dynamic_properties": {},
        "dynamic_outputs": {},
        "sync_mode": "on_any"
      },
      {
        "id": "2cff53ca-8086-4c9b-ba7a-ff7c30384a00",
        "parent_id": null,
        "type": "nodetool.input.StringInput",
        "data": {
          "name": "Query",
          "value": "what are transformers?",
          "description": ""
        },
        "ui_properties": {
          "selected": false,
          "position": {
            "x": 3,
            "y": 333
          },
          "zIndex": 0,
          "width": 280,
          "selectable": true
        },
        "dynamic_properties": {},
        "dynamic_outputs": {},
        "sync_mode": "on_any"
      },
      {
        "id": "d83380c7-0d53-4cee-a52e-3189ace2f34c",
        "parent_id": null,
        "type": "nodetool.agents.Agent",
        "data": {
          "model": {
            "type": "language_model"
          },
          "system": "You are a an AI agent. \n\nBehavior\n- Understand the user's intent and the context of the task.\n- Break down the task into smaller steps.\n- Be precise, concise, and actionable.\n- Use tools to accomplish your goal. \n\nTool preambles\n- Outline the next step(s) you will perform.\n- After acting, summarize the outcome.\n\nRendering\n- Use Markdown to display media assets.\n- Display images, audio, and video assets using the appropriate Markdown.\n\nFile handling\n- Inputs and outputs are files in the /workspace directory.\n- Write outputs of code execution to the /workspace directory.\n",
          "image": {
            "type": "image",
            "uri": "",
            "asset_id": null,
            "data": null
          },
          "audio": {
            "type": "audio",
            "uri": "",
            "asset_id": null,
            "data": null
          },
          "history": [],
          "thread_id": null,
          "max_tokens": 8192
        },
        "ui_properties": {
          "selected": false,
          "position": {
            "x": 1049,
            "y": 225
          },
          "zIndex": 0,
          "width": 280,
          "selectable": true
        },
        "dynamic_properties": {},
        "dynamic_outputs": {},
        "sync_mode": "on_any"
      },
      {
        "id": "e67772ca-cbb6-4135-8067-ef92a28c65ab",
        "parent_id": null,
        "type": "nodetool.workflows.base_node.Preview",
        "data": {},
        "ui_properties": {
          "selected": false,
          "position": {
            "x": 1359,
            "y": 26
          },
          "zIndex": 0,
          "width": 280,
          "height": 1003,
          "selectable": true
        },
        "dynamic_properties": {},
        "dynamic_outputs": {},
        "sync_mode": "on_any"
      }
    ],
    "edges": [
      {
        "id": "9a72293d-814a-4c98-8b71-c82bdf13084a",
        "source": "2cff53ca-8086-4c9b-ba7a-ff7c30384a00",
        "sourceHandle": "output",
        "target": "8e9b8157-9d68-408d-9b6f-df8e282a2bce",
        "targetHandle": "text",
        "ui_properties": {
          "className": "str"
        }
      },
      {
        "id": "d7db69b5-6c99-440a-83d5-73b0f544ee2a",
        "source": "8e9b8157-9d68-408d-9b6f-df8e282a2bce",
        "sourceHandle": "documents",
        "target": "9",
        "targetHandle": "documents",
        "ui_properties": {
          "className": "list"
        }
      },
      {
        "id": "06e576c0-6678-415c-9d9a-3c44c56bc7c0",
        "source": "2cff53ca-8086-4c9b-ba7a-ff7c30384a00",
        "sourceHandle": "output",
        "target": "9",
        "targetHandle": "text",
        "ui_properties": {
          "className": "str"
        }
      },
      {
        "id": "1aef9b27-35ca-47a6-98e4-b4df29030407",
        "source": "9",
        "sourceHandle": "output",
        "target": "d83380c7-0d53-4cee-a52e-3189ace2f34c",
        "targetHandle": "prompt",
        "ui_properties": {
          "className": "str"
        }
      },
      {
        "id": "fd2ac76d-9ca5-4e1e-b13c-442bbbdda28d",
        "source": "d83380c7-0d53-4cee-a52e-3189ace2f34c",
        "sourceHandle": "text",
        "target": "e67772ca-cbb6-4135-8067-ef92a28c65ab",
        "targetHandle": "value",
        "ui_properties": {
          "className": "str"
        }
      }
    ]
  },
  "input_schema": null,
  "output_schema": null,
  "settings": null,
  "package_name": "nodetool-base",
  "path": null,
  "run_mode": null,
  "required_providers": null,
  "required_models": null
}