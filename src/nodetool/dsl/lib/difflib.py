# This file is auto-generated by nodetool.dsl.codegen.
# Please do not edit this file manually.

# Instead, edit the node class in the source module and run the following commands to regenerate the DSL:
# nodetool package scan
# nodetool codegen

import nodetool.metadata.types
from nodetool.dsl.graph import GraphNode, SingleOutputGraphNode

from nodetool.dsl.handles import OutputHandle, connect_field
import nodetool.nodes.lib.difflib
from nodetool.workflows.base_node import BaseNode


class GetCloseMatches(SingleOutputGraphNode[list[str]], GraphNode[list[str]]):
    """

    Finds close matches for a word within a list of possibilities.
    difflib, fuzzy, match

    Use cases:
    - Suggest alternatives for misspelled words
    - Map user input to valid options
    - Provide recommendations based on partial text
    """

    word: str | OutputHandle[str] = connect_field(
        default="", description="Word to match"
    )
    possibilities: list[str] | OutputHandle[list[str]] = connect_field(
        default=[], description="List of possible words"
    )
    n: int | OutputHandle[int] = connect_field(
        default=3, description="Maximum number of matches to return"
    )
    cutoff: float | OutputHandle[float] = connect_field(
        default=0.6, description="Minimum similarity ratio"
    )

    @classmethod
    def get_node_class(cls) -> type[BaseNode]:
        return nodetool.nodes.lib.difflib.GetCloseMatches

    @classmethod
    def get_node_type(cls):
        return cls.get_node_class().get_node_type()


from nodetool.dsl.handles import OutputHandle, connect_field
from nodetool.workflows.base_node import BaseNode


class SimilarityRatio(SingleOutputGraphNode[float], GraphNode[float]):
    """

    Calculates the similarity ratio between two strings.
    difflib, similarity, ratio, compare

    Use cases:
    - Fuzzy string matching
    - Compare document versions
    - Evaluate similarity of user input
    """

    a: str | OutputHandle[str] = connect_field(
        default="", description="First string to compare"
    )
    b: str | OutputHandle[str] = connect_field(
        default="", description="Second string to compare"
    )

    @classmethod
    def get_node_class(cls) -> type[BaseNode]:
        return nodetool.nodes.lib.difflib.SimilarityRatio

    @classmethod
    def get_node_type(cls):
        return cls.get_node_class().get_node_type()


from nodetool.dsl.handles import OutputHandle, connect_field
from nodetool.workflows.base_node import BaseNode


class UnifiedDiff(SingleOutputGraphNode[str], GraphNode[str]):
    """

    Generates a unified diff between two texts.
    difflib, diff, compare

    Use cases:
    - Display differences between versions of text files
    - Highlight changes in user submitted documents
    - Compare code snippets
    """

    a: str | OutputHandle[str] = connect_field(default="", description="Original text")
    b: str | OutputHandle[str] = connect_field(default="", description="Modified text")
    fromfile: str | OutputHandle[str] = connect_field(
        default="a", description="Name of the original file"
    )
    tofile: str | OutputHandle[str] = connect_field(
        default="b", description="Name of the modified file"
    )
    lineterm: str | OutputHandle[str] = connect_field(
        default="\n", description="Line terminator"
    )

    @classmethod
    def get_node_class(cls) -> type[BaseNode]:
        return nodetool.nodes.lib.difflib.UnifiedDiff

    @classmethod
    def get_node_type(cls):
        return cls.get_node_class().get_node_type()
